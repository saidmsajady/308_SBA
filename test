// function assignmentNumAndScore(submissions, assignments) {
//   const studentData = {};

//   // Going through all the submissions ***
//   for (let i = 0; i < submissions.length; i++) {
//     const submission = submissions[i];
//     const assignment = assignments.find(function(a) {
//       return a.id === submission.assignment_id;
//     });

//     if (assignment) {
//       let score = submission.submission.score;
//       const dueDate = new Date(assignment.due_at);
//       const submittedDate = new Date(submission.submission.submitted_at);

//       // Apply 10% penalty for late submission
//       // This will apply for Assignment 2 for student 132
//       if (submittedDate > dueDate) {
//         score *= 0.9;
//       }

//       // Caluclate the total score presentage for each assignment
//       const scorePercentage = score / assignment.points_possible;

//       if (!studentData[submission.learner_id]) {
//         studentData[submission.learner_id] = {};
//       }

//       // Has the score percentage for each assignment
//       studentData[submission.learner_id][submission.assignment_id] = scorePercentage;
//     }
//   }
//   return studentData;
// }

// function averageScore(studentData, assignmentGroup) {
//   const averages = [];

//   // Goes throguh all the leaners 
//   for (const studentID in studentData) {
//     if (studentData.hasOwnProperty(studentID)) {
//       let totalPoints = 0;
//       let weightedSum = 0;
//       const assignmentScores = studentData[studentID];
//       const studentResult = { id: parseInt(studentID) };

//       // Goes through each assignment total score for the student
//       for (const assignmentID in assignmentScores) {
//         if (assignmentScores.hasOwnProperty(assignmentID)) {
//           const assignment = assignmentGroup.assignments.find(function(a) {
//             return a.id === parseInt(assignmentID);
//           });

//           // Ensures that any submissions with a due date not set wil not be printed
//           const dueDate = new Date(assignment.due_at);
//           const cutOffDate = new Date('2024-05-15');
//           if (assignment && dueDate <= cutOffDate && assignmentScores[assignmentID] !== undefined) {
//             const weight = assignment.points_possible * assignmentGroup.group_weight / 100;
//             totalPoints += weight;
//             weightedSum += assignmentScores[assignmentID] * weight;
//             studentResult[assignmentID] = assignmentScores[assignmentID];
//           }
//         }
//       }
//       // Calculates the average score
//       if (totalPoints > 0) {
//         const avg = weightedSum / totalPoints;
//         studentResult.avg = avg;
//         averages.push(studentResult);
//       }
//     }
//   }
//   return averages;
// }

// function getLearnerData(courseInfo, assignmentGroup, learnerSubmissions) {
//   let result;
//   try {
//     // This checks if the assignment group belongs to the provided course
//     if (courseInfo.id !== assignmentGroup.course_id) {
//       throw new Error("Invalid input: Assignment group does not belong to the provided course.");
//     }

//     // This calculates the assignment and average scores
//     const assignmentScores = assignmentNumAndScore(learnerSubmissions, assignmentGroup.assignments);
//     const avgScores = averageScore(assignmentScores, assignmentGroup);
//     result = avgScores;
//   } catch (error) {
//     result = error.message;
//   }

//   return result;
// }

// // Printsss the code
// const result = getLearnerData(courseInfo, assignmentGroup, learnerSubmissions);
// console.log(result);